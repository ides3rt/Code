#!/usr/bin/env bash

while read; do
	[[ $REPLY =~ xkb_symbols ]] && break
done <<< "$(setxkbmap -print)"

read F1 F2 F3 F4 _ <<< "$REPLY"
IFS='+' read F1 F2 _ <<< "$F4"

case "$F2" in
	us*)
		setxkbmap th ;;
	*)
		setxkbmap us -variant colemak ;;
esac
