#!/bin/sh

Choice=$(printf '%s\n' \
	'Full screen' \
	'Focused window' \
	'Choose specific area/window' \
	| rofi -dmenu -i -p 'Screenshot')

test -z "$Choice" && exit 0

ss() {
	local Dest="$HOME/Pictures/$(date +%Y-%m-%d_%H:%M:%S).png"
	maim "$@" "$Dest"
	dunstify -u low -i "$Dest" 'Screenshot done...'
}

case "$Choice" in
	'Full-screen')
		ss ;;
	'Focused-window')
		ss -i "$(xdotool getactivewindow)" ;;
	'Choose-specific-area/window')
		ss -s ;;
esac
