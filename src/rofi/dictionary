#!/usr/bin/env bash

File="$HOME/.local/share/dictionary"

[ -f "$File" ] || > $File

Word=$(sed 's/ - .*//' $File | rofi -dmenu -i -p 'Word')

[ -z "$Word" ] && exit

if [ -z "$(grep -io "^$Word" $File)" ]; then

	Meaning=$(rofi -dmenu -p 'Meaning')
	[ -z "$Meaning" ] && exit

	echo "$Word - $Meaning" >> $File
else
	grep -i "^$Word" $File | rofi -dmenu -i -p 'Matching'
fi
